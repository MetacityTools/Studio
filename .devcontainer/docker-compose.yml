version: '3'

services:
    devcontainer:
        container_name: ${COMPOSE_PROJECT_NAME:-metacity-dev}-devcontainer
            build: .
            volumes:
                - ..:/workspace
                
    surrealdb:
        image: surrealdb/surrealdb:latest
        env_file: .env
        container_name: ${COMPOSE_PROJECT_NAME:-metacity-dev}-surrealdb
        restart: always
        command: start --log trace --user root --pass root file:/data/database.db
        volumes:
          - ./data:/data
        ports:
          - 8000:8000